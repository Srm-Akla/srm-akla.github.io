import{s as y,f as w,g as b,j as d,i as g,P,w as j,A as I,d as _,p as S,z,Q as A,o as F,C as M,a as N,h as E,c as Q,R as W,D as B,E as G,F as H}from"./scheduler.107c4b6e.js";import{S as D,i as q,b as L,d as R,m as U,a as v,t as C,e as k,f as J}from"./index.49aa40f3.js";import{C as K}from"./CommonPage.ba2ff715.js";import{p as O}from"./stores.b5c42bdc.js";import{b as X}from"./paths.9c9292df.js";function Y(n){let e,t,s;return{c(){e=w("input"),this.h()},l(l){e=b(l,"INPUT",{placeholder:!0,class:!0}),this.h()},h(){d(e,"placeholder",n[1]),d(e,"class","text-[inherit] bg-transparent border-[1px] border-solid border-[var(--border)] px-[20px] py-[10px] rounded-[15px] flex-1 text-[1.15em]  svelte-c0g44u")},m(l,i){g(l,e,i),n[4](e),P(e,n[0]),t||(s=j(e,"input",n[5]),t=!0)},p(l,[i]){i&2&&d(e,"placeholder",l[1]),i&1&&e.value!==l[0]&&P(e,l[0])},i:I,o:I,d(l){l&&_(e),n[4](null),t=!1,s()}}}function Z(n,e,t){let{value:s=""}=e,{placeholder:l=""}=e,i;function f(){i.focus()}function h(r){S[r?"unshift":"push"](()=>{i=r,t(2,i)})}function p(){s=this.value,t(0,s)}return n.$$set=r=>{"value"in r&&t(0,s=r.value),"placeholder"in r&&t(1,l=r.placeholder)},[s,l,i,f,h,p]}class x extends D{constructor(e){super(),q(this,e,Z,Y,y,{value:0,placeholder:1,focus:3})}get focus(){return this.$$.ctx[3]}}function $(n){let e,t,s,l,i,f;function h(a){n[8](a)}let p={placeholder:"Search..."};n[0]!==void 0&&(p.value=n[0]),t=new x({props:p}),n[7](t),S.push(()=>J(t,"value",h));const r=n[6].default,u=M(r,n,n[9],null);return{c(){e=w("div"),L(t.$$.fragment),l=N(),i=w("div"),u&&u.c(),this.h()},l(a){e=b(a,"DIV",{class:!0});var c=E(e);R(t.$$.fragment,c),c.forEach(_),l=Q(a),i=b(a,"DIV",{class:!0});var m=E(i);u&&u.l(m),m.forEach(_),this.h()},h(){d(e,"class","w-100% row"),d(i,"class","w-100% col flex-1")},m(a,c){g(a,e,c),U(t,e,null),g(a,l,c),g(a,i,c),u&&u.m(i,null),f=!0},p(a,c){const m={};!s&&c&1&&(s=!0,m.value=a[0],W(()=>s=!1)),t.$set(m),u&&u.p&&(!f||c&512)&&B(u,r,a,a[9],f?H(r,a[9],c,null):G(a[9]),null)},i(a){f||(v(t.$$.fragment,a),v(u,a),f=!0)},o(a){C(t.$$.fragment,a),C(u,a),f=!1},d(a){a&&(_(e),_(l),_(i)),n[7](null),k(t),u&&u.d(a)}}}function ee(n){let e,t;return e=new K({props:{title:n[1],titleClass:n[2],$$slots:{default:[$]},$$scope:{ctx:n}}}),{c(){L(e.$$.fragment)},l(s){R(e.$$.fragment,s)},m(s,l){U(e,s,l),t=!0},p(s,[l]){const i={};l&2&&(i.title=s[1]),l&4&&(i.titleClass=s[2]),l&521&&(i.$$scope={dirty:l,ctx:s}),e.$set(i)},i(s){t||(v(e.$$.fragment,s),t=!0)},o(s){C(e.$$.fragment,s),t=!1},d(s){k(e,s)}}}function te(n,e,t){let s;z(n,O,o=>t(5,s=o));let{$$slots:l={},$$scope:i}=e,{title:f="Title"}=e,{search:h=""}=e,{titleClass:p=""}=e,r;const u=A();let a=!1;F(()=>{let o=new URLSearchParams(window.location.search);t(0,h=o.get("q")??""),t(4,a=!0)});function c(o){S[o?"unshift":"push"](()=>{r=o,t(3,r)})}function m(o){h=o,t(0,h)}return n.$$set=o=>{"title"in o&&t(1,f=o.title),"search"in o&&t(0,h=o.search),"titleClass"in o&&t(2,p=o.titleClass),"$$scope"in o&&t(9,i=o.$$scope)},n.$$.update=()=>{if(n.$$.dirty&1&&u("search",{search:h.trim().toLowerCase()}),n.$$.dirty&57&&a){let o=new URLSearchParams(window.location.search);o.set("q",h);const T=`${window.location.protocol}//${window.location.host}${window.location.pathname}?${o.toString()}`,V=window.history.state;window.history.replaceState(V,"",T),s.url.pathname.startsWith(`${X}/search`)&&r&&r.focus()}},[h,f,p,r,a,s,l,c,m,i]}class oe extends D{constructor(e){super(),q(this,e,te,ee,y,{title:1,search:0,titleClass:2})}}export{oe as S};
